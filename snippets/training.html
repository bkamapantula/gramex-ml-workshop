<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ML Classification application with Gramex</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../ui/bootstrap-select/dist/css/bootstrap-select.min.css">
</head>

<body>
  {% set base = '.' %}
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark py-0">
    <a class="navbar-brand" href="{{ base }}">
      <!-- Replace with your logo. Just specify height, not width. -->
      <img height="36" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkAQAAAADJe6U1AAAABGdBTUEAALGPC/xhBQAAAAJ0Uk5TAAB2k804AAAANUlEQVR42mNgwAX4/x8AkvZgsh5M/geTP8CyH0ggP1BKMoLIH8wfwG54AHbPA7jb+P9jcz0AKpcxBQbNJ8sAAAAASUVORK5CYII=" alt="Logo">
    </a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="navbar-nav mx-auto">
        <span class="nav-item nav-link active text-uppercase h5 mb-0">ML App with Gramex</span>
      </div>
    </div>
  </nav>

  <!-- upload component -->
  <div class="container py-4">
    <div class="card-deck">
      <div class="card">
        <div class="card-body">
          <form action="../upload" method="POST" enctype="multipart/form-data">
            <input name="file" type="file">
            <button type="buton" id="file_upload_btn">Submit</button>
            <input type="hidden" name="_xsrf" value="{{ handler.xsrf_token }}">
            <input type="hidden" name="save" value="data.csv">
          </form>
        </div>
      </div>
    </div><!-- .card -->
  </div><!-- .container -->

  <!-- data table component -->
  <div class="container py-4">
    <div class="formhandler" data-src="../data"></div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-6">
        <h3>Tweak the parameters</h3>
        <div class="container py-4" id="mlSection">
          <div class="form-group row">
            <label for="targetCol" class="col-sm-4 col-form-label">Select Target Column:</label>
            <div class="col-sm-8">
              <div id="targetCol"></div>
            </div>
          </div>
          <div class="form-group row">
            <label for="testSize" class="col-sm-4 col-form-label">Select Test Size:</label>
            <div class="col-8">
              <input id="testSize" type="range" class="custom-range" name="testSize" value="33">
            </div>
            <div id="testSizeDisplay" class="col-sm"><p>33 %</p></div>
          </div>
          <div class="form-group row">
            <label for="algorithm" class="col-sm-4 col-form-label">Select Algorithm:</label>
            <div class="col-sm-8">
              <div id="algorithm"></div>
            </div>
          </div>
          <div class="form-group">
            <button class="btn btn-primary" id="train">Train</button>
          </div>
        </div>
      </div>
      <div id="report" class="col-6"></div>
    </div>
  </div>

<link rel="stylesheet" href="../style.css">
</body>

<script src="../ui/jquery/dist/jquery.min.js"></script>
<script src="../ui/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../ui/lodash/lodash.min.js"></script>
<script src="../ui/g1/dist/g1.min.js"></script>
<script>
  $('.formhandler').formhandler({
    pageSize: 5
  })
</script>
